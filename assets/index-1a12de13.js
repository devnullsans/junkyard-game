var lt=Object.defineProperty;var st=(t,e,l)=>e in t?lt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var ze=(t,e,l)=>(st(t,typeof e!="symbol"?e+"":e,l),l);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const g of a)if(g.type==="childList")for(const o of g.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function l(a){const g={};return a.integrity&&(g.integrity=a.integrity),a.referrerPolicy&&(g.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?g.credentials="include":a.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function s(a){if(a.ep)return;a.ep=!0;const g=l(a);fetch(a.href,g)}})();function J(){}function Ue(t){return t()}function Ae(){return Object.create(null)}function le(t){t.forEach(Ue)}function Xe(t){return typeof t=="function"}function se(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let $e;function R(t,e){return $e||($e=document.createElement("a")),$e.href=e,t===$e.href}function nt(t){return Object.keys(t).length===0}function at(t,...e){if(t==null)return J;const l=t.subscribe(...e);return l.unsubscribe?()=>l.unsubscribe():l}function ce(t,e,l){t.$$.on_destroy.push(at(e,l))}function Ve(t){return t??""}function Z(t,e,l){return t.set(l),e}const it=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;"WeakMap"in it;function n(t,e){t.appendChild(e)}function L(t,e,l){t.insertBefore(e,l||null)}function B(t){t.parentNode&&t.parentNode.removeChild(t)}function h(t){return document.createElement(t)}function z(t){return document.createTextNode(t)}function S(){return z(" ")}function Q(t,e,l,s){return t.addEventListener(e,l,s),()=>t.removeEventListener(e,l,s)}function v(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}function rt(t){return Array.from(t.childNodes)}function V(t,e){e=""+e,t.data!==e&&(t.data=e)}function Fe(t,e,l){t.classList[l?"add":"remove"](e)}function Ge(t,e){return new t(e)}let ke;function _e(t){ke=t}function Ee(){if(!ke)throw new Error("Function called outside component initialization");return ke}function ot(t){Ee().$$.on_mount.push(t)}function Oe(t,e){return Ee().$$.context.set(t,e),e}function oe(t){return Ee().$$.context.get(t)}const fe=[],Te=[];let he=[];const Be=[],ct=Promise.resolve();let je=!1;function ut(){je||(je=!0,ct.then(Ze))}function Ce(t){he.push(t)}const Pe=new Set;let ue=0;function Ze(){if(ue!==0)return;const t=ke;do{try{for(;ue<fe.length;){const e=fe[ue];ue++,_e(e),gt(e.$$)}}catch(e){throw fe.length=0,ue=0,e}for(_e(null),fe.length=0,ue=0;Te.length;)Te.pop()();for(let e=0;e<he.length;e+=1){const l=he[e];Pe.has(l)||(Pe.add(l),l())}he.length=0}while(fe.length);for(;Be.length;)Be.pop()();je=!1,Pe.clear(),_e(t)}function gt(t){if(t.fragment!==null){t.update(),le(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ce)}}function ft(t){const e=[],l=[];he.forEach(s=>t.indexOf(s)===-1?e.push(s):l.push(s)),l.forEach(s=>s()),he=e}const Me=new Set;let re;function pt(){re={r:0,c:[],p:re}}function ht(){re.r||le(re.c),re=re.p}function pe(t,e){t&&t.i&&(Me.delete(t),t.i(e))}function we(t,e,l,s){if(t&&t.o){if(Me.has(t))return;Me.add(t),re.c.push(()=>{Me.delete(t),s&&(l&&t.d(1),s())}),t.o(e)}else s&&s()}function ye(t,e){t.d(1),e.delete(t.key)}function be(t,e,l,s,a,g,o,u,p,i,f,c){let r=t.length,d=g.length,k=r;const m={};for(;k--;)m[t[k].key]=k;const y=[],w=new Map,C=new Map,j=[];for(k=d;k--;){const M=c(a,g,k),E=l(M);let O=o.get(E);O?s&&j.push(()=>O.p(M,e)):(O=i(E,M),O.c()),w.set(E,y[k]=O),E in m&&C.set(E,Math.abs(k-m[E]))}const F=new Set,$=new Set;function _(M){pe(M,1),M.m(u,f),o.set(M.key,M),f=M.first,d--}for(;r&&d;){const M=y[d-1],E=t[r-1],O=M.key,T=E.key;M===E?(f=M.first,r--,d--):w.has(T)?!o.has(O)||F.has(O)?_(M):$.has(T)?r--:C.get(O)>C.get(T)?($.add(O),_(M)):(F.add(T),r--):(p(E,o),r--)}for(;r--;){const M=t[r];w.has(M.key)||p(M,o)}for(;d;)_(y[d-1]);return le(j),y}const mt=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"];[...mt];function Se(t){t&&t.c()}function me(t,e,l,s){const{fragment:a,after_update:g}=t.$$;a&&a.m(e,l),s||Ce(()=>{const o=t.$$.on_mount.map(Ue).filter(Xe);t.$$.on_destroy?t.$$.on_destroy.push(...o):le(o),t.$$.on_mount=[]}),g.forEach(Ce)}function de(t,e){const l=t.$$;l.fragment!==null&&(ft(l.after_update),le(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function dt(t,e){t.$$.dirty[0]===-1&&(fe.push(t),ut(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ne(t,e,l,s,a,g,o,u=[-1]){const p=ke;_e(t);const i=t.$$={fragment:null,ctx:[],props:g,update:J,not_equal:a,bound:Ae(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(p?p.$$.context:[])),callbacks:Ae(),dirty:u,skip_bound:!1,root:e.target||p.$$.root};o&&o(i.root);let f=!1;if(i.ctx=l?l(t,e.props||{},(c,r,...d)=>{const k=d.length?d[0]:r;return i.ctx&&a(i.ctx[c],i.ctx[c]=k)&&(!i.skip_bound&&i.bound[c]&&i.bound[c](k),f&&dt(t,c)),r}):[],i.update(),f=!0,le(i.before_update),i.fragment=s?s(i.ctx):!1,e.target){if(e.hydrate){const c=rt(e.target);i.fragment&&i.fragment.l(c),c.forEach(B)}else i.fragment&&i.fragment.c();e.intro&&pe(t.$$.fragment),me(t,e.target,e.anchor,e.customElement),Ze()}_e(p)}class ae{$destroy(){de(this,1),this.$destroy=J}$on(e,l){if(!Xe(l))return J;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(l),()=>{const a=s.indexOf(l);a!==-1&&s.splice(a,1)}}$set(e){this.$$set&&!nt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ge=[];function vt(t,e=J){let l;const s=new Set;function a(u){if(se(t,u)&&(t=u,l)){const p=!ge.length;for(const i of s)i[1](),ge.push(i,t);if(p){for(let i=0;i<ge.length;i+=2)ge[i][0](ge[i+1]);ge.length=0}}}function g(u){a(u(t))}function o(u,p=J){const i=[u,p];return s.add(i),s.size===1&&(l=e(a)||J),u(t),()=>{s.delete(i),s.size===0&&l&&(l(),l=null)}}return{set:a,update:g,subscribe:o}}const Ie={money:300,points:0,level:1,energy:30,energytime:30,parkingvehicles:new Map,parkingmax:1,garagevehicles:new Map,garagemax:1,storagevehicles:new Map,storagemax:1,junkyardvehicle:null,yardtime:15,marketvehicleid:"",markettime:3};function _t(){const t=localStorage.getItem("save");if(t)try{return JSON.parse(t,(e,l)=>{let s;switch(e){case"parkingvehicles":case"garagevehicles":case"storagevehicles":s=new Map(l);break;default:s=l;break}return s})}catch(e){return console.warn(e),Ie}else return Ie}const Y=vt(_t());Y.subscribe(t=>{localStorage.setItem("save",JSON.stringify(t,(e,l)=>{let s;switch(e){case"parkingvehicles":case"garagevehicles":case"storagevehicles":s=Array.from(l.entries());break;default:s=l;break}return s}))});const ie=class{constructor(e=1){this.id=Date.now().toString(36),this.level=Math.floor(Math.random()*e)+1;const l=ie.config[this.level-1];this.sub=Math.floor(Math.random()*l.length);const s=l[this.sub];this.name=s.name;const a=50*this.level,g=a*(this.sub+2);this.price=Math.random()*(g-a)+a;const[o,u,p]=ie.generateRandomIntegers(s.energy,3);this.parkingenergy=o,this.storageenergy=u,this.garageenergy=p,this.garagestage=-1,this.garagetime=0;const i=ie.generateRandomIntegers(s.time),f=ie.generateRandomIntegers(100).map(c=>c/100);this.parts=ie.parts.map(c=>({name:c,sellprice:0,time:0,ratio:0})),this.parts[0].time=i[1],this.parts[1].time=i[0],this.parts[2].time=i[6],this.parts[3].time=i[2],this.parts[4].time=i[3],this.parts[5].time=i[4],this.parts[6].time=i[9],this.parts[7].time=i[8],this.parts[8].time=i[7],this.parts[9].time=i[5],this.parts[0].ratio=this.price*f[5],this.parts[1].ratio=this.price*f[0],this.parts[2].ratio=this.price*f[2],this.parts[3].ratio=this.price*f[3],this.parts[4].ratio=this.price*f[1],this.parts[5].ratio=this.price*f[4],this.parts[6].ratio=this.price*f[9],this.parts[7].ratio=this.price*f[8],this.parts[8].ratio=this.price*f[7],this.parts[9].ratio=this.price*f[6]}static generateRandomIntegers(e,l=10){const s=[];let a=0;for(let g=0;g<l-1;g++){const o=l-g-1,u=Math.floor((e-a)/o),p=Math.floor(Math.random()*Math.max(1,Math.min(u,e-a-o)))+1;s.push(p),a+=p}return s.push(e-a),s.sort((g,o)=>g-o)}};let ve=ie;ze(ve,"parts",["Battery","Fluids","Electronics","Rims","Brakes","Windows","Engine","Transmission","Drivetrain","Scrap"]),ze(ve,"config",[[{name:"Nova Chariot",energy:20,time:30},{name:"Spectral Glide",energy:25,time:40}],[{name:"Astral Cruiser",energy:40,time:60},{name:"Quantum Streaker",energy:50,time:80}],[{name:"Nebula Racer",energy:60,time:90},{name:"Thunderstrike",energy:75,time:120}],[{name:"Celestial Blazer",energy:80,time:120},{name:"Quantum Streaker",energy:100,time:160}]]);function kt(t){let e,l,s,a,g,o,u,p=t[0].money.toFixed(2)+"",i,f,c,r,d,k,m,y,w=t[0].level+"",C,j,F=t[0].points+"",$,_,M,E,O,T,I,b,P,A,K,W,x=t[0].energy+"",U,H,ee=t[0].level*100+"",X,D,N,G;return{c(){e=h("header"),l=h("figure"),s=h("img"),g=S(),o=h("figcaption"),u=h("p"),i=z(p),f=S(),c=h("figure"),r=h("img"),k=S(),m=h("figcaption"),y=h("p"),C=z(w),j=z(" : "),$=z(F),_=S(),M=h("progress"),T=S(),I=h("figure"),b=h("img"),A=S(),K=h("figcaption"),W=h("p"),U=z(x),H=z(" / "),X=z(ee),D=S(),N=h("progress"),R(s.src,a="assets/stats/0.png")||v(s,"src",a),v(s,"alt","img"),v(u,"class","txt-s"),v(o,"class","svelte-z2uysm"),v(l,"class","svelte-z2uysm"),R(r.src,d="assets/stats/1.png")||v(r,"src",d),v(r,"alt","img"),v(y,"class","txt-i"),v(M,"max",E=t[0].level*1e3),M.value=O=t[0].points,v(m,"class","svelte-z2uysm"),v(c,"class","svelte-z2uysm"),R(b.src,P="assets/stats/2.png")||v(b,"src",P),v(b,"alt","img"),v(W,"class","txt-w"),v(N,"max",30),N.value=G=30-t[0].energytime,v(K,"class","svelte-z2uysm"),v(I,"class","svelte-z2uysm"),v(e,"class","svelte-z2uysm")},m(q,te){L(q,e,te),n(e,l),n(l,s),n(l,g),n(l,o),n(o,u),n(u,i),n(e,f),n(e,c),n(c,r),n(c,k),n(c,m),n(m,y),n(y,C),n(y,j),n(y,$),n(m,_),n(m,M),n(e,T),n(e,I),n(I,b),n(I,A),n(I,K),n(K,W),n(W,U),n(W,H),n(W,X),n(K,D),n(K,N)},p(q,[te]){te&1&&p!==(p=q[0].money.toFixed(2)+"")&&V(i,p),te&1&&w!==(w=q[0].level+"")&&V(C,w),te&1&&F!==(F=q[0].points+"")&&V($,F),te&1&&E!==(E=q[0].level*1e3)&&v(M,"max",E),te&1&&O!==(O=q[0].points)&&(M.value=O),te&1&&x!==(x=q[0].energy+"")&&V(U,x),te&1&&ee!==(ee=q[0].level*100+"")&&V(X,ee),te&1&&G!==(G=30-q[0].energytime)&&(N.value=G)},i:J,o:J,d(q){q&&B(e)}}}function yt(t,e,l){let s;return ce(t,Y,a=>l(0,s=a)),[s]}class bt extends ae{constructor(e){super(),ne(this,e,yt,kt,se,{})}}function Le(t,e,l){const s=t.slice();return s[7]=e[l],s}function $t(t){let e,l,s,a,g,o,u=t[7].parts[t[7].garagestage].name+"",p,i,f,c,r=t[7].garagetime+"",d,k,m=t[7].parts[t[7].garagestage].time+"",y,w,C,j,F;return{c(){e=h("figure"),l=h("img"),g=S(),o=h("figcaption"),p=z(u),i=S(),f=h("aside"),c=h("p"),d=z(r),k=z(" => "),y=z(m),w=S(),C=h("progress"),R(l.src,s=`assets/parts/${t[7].garagestage}.png`)||v(l,"src",s),v(l,"alt",a=t[7].parts[t[7].garagestage].name),v(c,"class","txt-i svelte-1spsvye"),v(C,"max",j=t[7].parts[t[7].garagestage].time),C.value=F=t[7].garagetime,v(C,"class","svelte-1spsvye"),v(f,"class","svelte-1spsvye")},m($,_){L($,e,_),n(e,l),n(e,g),n(e,o),n(o,p),L($,i,_),L($,f,_),n(f,c),n(c,d),n(c,k),n(c,y),n(f,w),n(f,C)},p($,_){_&1&&!R(l.src,s=`assets/parts/${$[7].garagestage}.png`)&&v(l,"src",s),_&1&&a!==(a=$[7].parts[$[7].garagestage].name)&&v(l,"alt",a),_&1&&u!==(u=$[7].parts[$[7].garagestage].name+"")&&V(p,u),_&1&&r!==(r=$[7].garagetime+"")&&V(d,r),_&1&&m!==(m=$[7].parts[$[7].garagestage].time+"")&&V(y,m),_&1&&j!==(j=$[7].parts[$[7].garagestage].time)&&v(C,"max",j),_&1&&F!==(F=$[7].garagetime)&&(C.value=F)},d($){$&&B(e),$&&B(i),$&&B(f)}}}function wt(t){let e,l,s=t[7].storageenergy+"",a,g,o,u,p;function i(){return t[5](t[7])}return{c(){e=h("aside"),l=h("strong"),a=z(s),g=S(),o=h("button"),o.textContent="Store",v(l,"class","txt-w svelte-1spsvye"),v(o,"class","svelte-1spsvye"),v(e,"class","work svelte-1spsvye")},m(f,c){L(f,e,c),n(e,l),n(l,a),n(e,g),n(e,o),u||(p=Q(o,"click",i),u=!0)},p(f,c){t=f,c&1&&s!==(s=t[7].storageenergy+"")&&V(a,s)},d(f){f&&B(e),u=!1,p()}}}function St(t){let e,l,s=t[7].garageenergy+"",a,g,o,u,p;function i(){return t[4](t[7])}return{c(){e=h("aside"),l=h("strong"),a=z(s),g=S(),o=h("button"),o.textContent="Work",v(l,"class","txt-w svelte-1spsvye"),v(o,"class","svelte-1spsvye"),v(e,"class","work svelte-1spsvye")},m(f,c){L(f,e,c),n(e,l),n(l,a),n(e,g),n(e,o),u||(p=Q(o,"click",i),u=!0)},p(f,c){t=f,c&1&&s!==(s=t[7].garageenergy+"")&&V(a,s)},d(f){f&&B(e),u=!1,p()}}}function Je(t,e){let l,s,a,g,o,u,p,i=e[7].name+"",f,c,r;function d(y,w){return y[7].garagestage===-1?St:y[7].garagestage===y[7].parts.length?wt:$t}let k=d(e),m=k(e);return{key:t,first:null,c(){l=h("div"),s=h("figure"),a=h("img"),u=S(),p=h("figcaption"),f=z(i),c=S(),m.c(),r=S(),R(a.src,g=`assets/vehicles/${e[7].level}-${e[7].sub}.png`)||v(a,"src",g),v(a,"alt",o=e[7].name),v(l,"class","svelte-1spsvye"),this.first=l},m(y,w){L(y,l,w),n(l,s),n(s,a),n(s,u),n(s,p),n(p,f),n(l,c),m.m(l,null),n(l,r)},p(y,w){e=y,w&1&&!R(a.src,g=`assets/vehicles/${e[7].level}-${e[7].sub}.png`)&&v(a,"src",g),w&1&&o!==(o=e[7].name)&&v(a,"alt",o),w&1&&i!==(i=e[7].name+"")&&V(f,i),k===(k=d(e))&&m?m.p(e,w):(m.d(1),m=k(e),m&&(m.c(),m.m(l,r)))},d(y){y&&B(l),m.d()}}}function Mt(t){let e,l,s,a=t[0].garagevehicles.size+"",g,o,u=t[0].garagemax+"",p,i,f,c,r,d,k=t[0].garagemax*2e3+"",m,y,w,C,j,F,$,_=[],M=new Map,E,O,T=[...t[0].garagevehicles.values()];const I=b=>b[7].id;for(let b=0;b<T.length;b+=1){let P=Le(t,T,b),A=I(P);M.set(A,_[b]=Je(A,P))}return{c(){e=h("section"),l=h("div"),s=h("p"),g=z(a),o=z(" / "),p=z(u),i=S(),f=h("h2"),f.textContent="Garage",c=S(),r=h("p"),d=h("strong"),m=z(k),y=S(),w=h("br"),C=S(),j=h("button"),j.textContent="Expand",F=S(),$=h("article");for(let b=0;b<_.length;b+=1)_[b].c();v(d,"class","txt-s"),v(l,"class","place-header"),v($,"class","place-main svelte-1spsvye"),v(e,"class","place")},m(b,P){L(b,e,P),n(e,l),n(l,s),n(s,g),n(s,o),n(s,p),n(l,i),n(l,f),n(l,c),n(l,r),n(r,d),n(d,m),n(r,y),n(r,w),n(r,C),n(r,j),n(e,F),n(e,$);for(let A=0;A<_.length;A+=1)_[A]&&_[A].m($,null);E||(O=Q(j,"click",t[1]),E=!0)},p(b,[P]){P&1&&a!==(a=b[0].garagevehicles.size+"")&&V(g,a),P&1&&u!==(u=b[0].garagemax+"")&&V(p,u),P&1&&k!==(k=b[0].garagemax*2e3+"")&&V(m,k),P&13&&(T=[...b[0].garagevehicles.values()],_=be(_,P,I,1,b,T,M,$,ye,Je,null,Le))},i:J,o:J,d(b){b&&B(e);for(let P=0;P<_.length;P+=1)_[P].d();E=!1,O()}}}function zt(t,e,l){let s;ce(t,Y,f=>l(0,s=f));const a=oe("alerts");function g(){const f=s;if(f.money<f.garagemax*2e3){a("d","You're Broke ! Not enough Money to expand Garage.","");return}f.money=f.money-f.garagemax*2e3,f.garagemax=f.garagemax+1,a("s",`Garage Expanded ! Now Holds upto ${f.garagemax} Vehicles.`,""),Z(Y,s=f,s)}function o(f){const c=s,r=c.garagevehicles.get(f);if(c.energy<r.garageenergy){a("d","You're Tired ! Not enough Energy to Overhaul Vehicle.","");return}r.garagestage=0,c.energy=c.energy-r.garageenergy,c.points=(c.points+r.level)%(c.level*1e3),c.level=c.level+(c.points+r.level>=c.level*1e3),Z(Y,s=c,s)}function u(f){const c=s,r=c.garagevehicles.get(f);if(c.energy<r.storageenergy){a("d","You're Tired ! Not enough Energy to Store Vehicle Parts.","");return}if(c.storagevehicles.size===c.storagemax){a("w","Too Crammed ! Not enough Space in Storage.","");return}c.energy=c.energy-r.storageenergy,c.points=(c.points+r.level)%(c.level*1e3),c.level=c.level+(c.points+r.level>=c.level*1e3),c.garagevehicles.delete(f),c.storagevehicles.set(f,r),a("s","Vehicle Stored ! Sell it's Parts in the Storage.","S"),Z(Y,s=c,s)}return[s,g,o,u,f=>o(f.id),f=>u(f.id)]}class xe extends ae{constructor(e){super(),ne(this,e,zt,Mt,se,{})}}function Pt(t){let e,l,s,a,g,o,u=t[0].junkyardvehicle.name+"",p,i,f,c,r=t[0].junkyardvehicle.price.toFixed(2)+"",d,k,m,y,w,C,j,F;return{c(){e=h("figure"),l=h("img"),g=S(),o=h("figcaption"),p=z(u),i=S(),f=h("aside"),c=h("strong"),d=z(r),k=S(),m=h("p"),y=h("button"),y.textContent="Skip",w=S(),C=h("button"),C.textContent="Buy",R(l.src,s=`assets/vehicles/${t[0].junkyardvehicle.level}-${t[0].junkyardvehicle.sub}.png`)||v(l,"src",s),v(l,"alt",a=t[0].junkyardvehicle.name),v(c,"class","txt-s"),v(y,"class","svelte-18yxkza"),v(C,"class","svelte-18yxkza"),v(m,"class","control svelte-18yxkza")},m($,_){L($,e,_),n(e,l),n(e,g),n(e,o),n(o,p),L($,i,_),L($,f,_),n(f,c),n(c,d),n(f,k),n(f,m),n(m,y),n(m,w),n(m,C),j||(F=[Q(y,"click",t[1]),Q(C,"click",t[2])],j=!0)},p($,_){_&1&&!R(l.src,s=`assets/vehicles/${$[0].junkyardvehicle.level}-${$[0].junkyardvehicle.sub}.png`)&&v(l,"src",s),_&1&&a!==(a=$[0].junkyardvehicle.name)&&v(l,"alt",a),_&1&&u!==(u=$[0].junkyardvehicle.name+"")&&V(p,u),_&1&&r!==(r=$[0].junkyardvehicle.price.toFixed(2)+"")&&V(d,r)},d($){$&&B(e),$&&B(i),$&&B(f),j=!1,le(F)}}}function jt(t){let e;return{c(){e=h("h3"),e.textContent="Awaiting Next Vehicle"},m(l,s){L(l,e,s)},p:J,d(l){l&&B(e)}}}function Ct(t){let e,l,s,a,g,o,u,p=t[0].parkingvehicles.size+"",i,f,c=t[0].parkingmax+"",r,d,k,m,y=t[0].garagevehicles.size+"",w,C,j=t[0].garagemax+"",F,$,_,M,E=t[0].storagevehicles.size+"",O,T,I=t[0].storagemax+"",b,P,A,K,W,x,U=t[0].yardtime+"",H;function ee(N,G){return N[0].junkyardvehicle==null?jt:Pt}let X=ee(t),D=X(t);return{c(){e=h("section"),l=h("div"),l.innerHTML='<h2 class="svelte-18yxkza">Junkyard</h2>',s=S(),a=h("article"),g=h("aside"),o=h("p"),u=z("Parking = "),i=z(p),f=z(" / "),r=z(c),d=S(),k=h("p"),m=z("Garage = "),w=z(y),C=z(" / "),F=z(j),$=S(),_=h("p"),M=z("Storage = "),O=z(E),T=z(" / "),b=z(I),P=S(),A=h("aside"),D.c(),K=S(),W=h("h3"),x=z("Timer = "),H=z(U),v(l,"class","place-header"),v(o,"class","svelte-18yxkza"),v(k,"class","svelte-18yxkza"),v(_,"class","svelte-18yxkza"),v(g,"class","info svelte-18yxkza"),v(A,"class","action svelte-18yxkza"),v(a,"class","place-main svelte-18yxkza"),v(e,"class","place")},m(N,G){L(N,e,G),n(e,l),n(e,s),n(e,a),n(a,g),n(g,o),n(o,u),n(o,i),n(o,f),n(o,r),n(g,d),n(g,k),n(k,m),n(k,w),n(k,C),n(k,F),n(g,$),n(g,_),n(_,M),n(_,O),n(_,T),n(_,b),n(a,P),n(a,A),D.m(A,null),n(A,K),n(A,W),n(W,x),n(W,H)},p(N,[G]){G&1&&p!==(p=N[0].parkingvehicles.size+"")&&V(i,p),G&1&&c!==(c=N[0].parkingmax+"")&&V(r,c),G&1&&y!==(y=N[0].garagevehicles.size+"")&&V(w,y),G&1&&j!==(j=N[0].garagemax+"")&&V(F,j),G&1&&E!==(E=N[0].storagevehicles.size+"")&&V(O,E),G&1&&I!==(I=N[0].storagemax+"")&&V(b,I),X===(X=ee(N))&&D?D.p(N,G):(D.d(1),D=X(N),D&&(D.c(),D.m(A,K))),G&1&&U!==(U=N[0].yardtime+"")&&V(H,U)},i:J,o:J,d(N){N&&B(e),D.d()}}}function Nt(t,e,l){let s;ce(t,Y,u=>l(0,s=u));const a=oe("alerts");function g(){const u=s;u.junkyardvehicle=null,u.yardtime=30,Z(Y,s=u,s)}function o(){const u=s;if(u.money<u.junkyardvehicle.price){a("d","You're Broke ! Not enough Money for Vehicle.","");return}if(u.parkingvehicles.size===u.parkingmax){a("w","Too Crammed ! Not enough Space in Parking.","");return}u.money=u.money-u.junkyardvehicle.price,u.points=(u.points+u.junkyardvehicle.level)%(u.level*1e3),u.level=u.level+(u.points+u.junkyardvehicle.level>=u.level*1e3),u.parkingvehicles.set(u.junkyardvehicle.id,u.junkyardvehicle),u.junkyardvehicle=null,u.yardtime=60,a("s","Vehicle Bought ! Find it in the Parking.","P"),Z(Y,s=u,s)}return[s,g,o]}class Ne extends ae{constructor(e){super(),ne(this,e,Nt,Ct,se,{})}}function qe(t,e,l){const s=t.slice();return s[5]=e[l],s}function Ye(t,e){let l,s,a,g,o,u,p,i=e[5].name+"",f,c,r,d,k=e[5].parkingenergy+"",m,y,w,C,j,F;function $(){return e[3](e[5])}return{key:t,first:null,c(){l=h("div"),s=h("figure"),a=h("img"),u=S(),p=h("figcaption"),f=z(i),c=S(),r=h("aside"),d=h("strong"),m=z(k),y=S(),w=h("button"),w.textContent="Move",C=S(),R(a.src,g=`assets/vehicles/${e[5].level}-${e[5].sub}.png`)||v(a,"src",g),v(a,"alt",o=e[5].name),v(d,"class","txt-w svelte-1y5j9hy"),v(w,"class","svelte-1y5j9hy"),v(r,"class","svelte-1y5j9hy"),this.first=l},m(_,M){L(_,l,M),n(l,s),n(s,a),n(s,u),n(s,p),n(p,f),n(l,c),n(l,r),n(r,d),n(d,m),n(r,y),n(r,w),n(l,C),j||(F=Q(w,"click",$),j=!0)},p(_,M){e=_,M&1&&!R(a.src,g=`assets/vehicles/${e[5].level}-${e[5].sub}.png`)&&v(a,"src",g),M&1&&o!==(o=e[5].name)&&v(a,"alt",o),M&1&&i!==(i=e[5].name+"")&&V(f,i),M&1&&k!==(k=e[5].parkingenergy+"")&&V(m,k)},d(_){_&&B(l),j=!1,F()}}}function Et(t){let e,l,s,a=t[0].parkingvehicles.size+"",g,o,u=t[0].parkingmax+"",p,i,f,c,r,d,k=t[0].parkingmax*1e3+"",m,y,w,C,j,F,$,_=[],M=new Map,E,O,T=[...t[0].parkingvehicles.values()];const I=b=>b[5].id;for(let b=0;b<T.length;b+=1){let P=qe(t,T,b),A=I(P);M.set(A,_[b]=Ye(A,P))}return{c(){e=h("section"),l=h("div"),s=h("p"),g=z(a),o=z(" / "),p=z(u),i=S(),f=h("h2"),f.textContent="Parking",c=S(),r=h("p"),d=h("strong"),m=z(k),y=S(),w=h("br"),C=S(),j=h("button"),j.textContent="Expand",F=S(),$=h("article");for(let b=0;b<_.length;b+=1)_[b].c();v(d,"class","txt-s"),v(l,"class","place-header"),v($,"class","place-main svelte-1y5j9hy"),v(e,"class","place")},m(b,P){L(b,e,P),n(e,l),n(l,s),n(s,g),n(s,o),n(s,p),n(l,i),n(l,f),n(l,c),n(l,r),n(r,d),n(d,m),n(r,y),n(r,w),n(r,C),n(r,j),n(e,F),n(e,$);for(let A=0;A<_.length;A+=1)_[A]&&_[A].m($,null);E||(O=Q(j,"click",t[1]),E=!0)},p(b,[P]){P&1&&a!==(a=b[0].parkingvehicles.size+"")&&V(g,a),P&1&&u!==(u=b[0].parkingmax+"")&&V(p,u),P&1&&k!==(k=b[0].parkingmax*1e3+"")&&V(m,k),P&5&&(T=[...b[0].parkingvehicles.values()],_=be(_,P,I,1,b,T,M,$,ye,Ye,null,qe))},i:J,o:J,d(b){b&&B(e);for(let P=0;P<_.length;P+=1)_[P].d();E=!1,O()}}}function At(t,e,l){let s;ce(t,Y,p=>l(0,s=p));const a=oe("alerts");function g(){const p=s;if(p.money<p.parkingmax*1e3){a("d","You're Broke ! Not enough Money to expand Parking.","");return}p.money=p.money-p.parkingmax*1e3,p.parkingmax=p.parkingmax+1,a("s",`Parking Expanded ! Now Holds upto ${p.parkingmax} Vehicles.`,""),Z(Y,s=p,s)}function o(p){const i=s,f=i.parkingvehicles.get(p);if(i.energy<f.parkingenergy){a("d","You're Tired ! Not enough Energy to Move Vehicle.","");return}if(i.garagevehicles.size===i.garagemax){a("w","Too Crammed ! Not enough Space in Garage.","");return}i.energy=i.energy-f.parkingenergy,i.points=(i.points+f.level)%(i.level*1e3),i.level=i.level+(i.points+f.level>=i.level*1e3),i.parkingvehicles.delete(p),i.garagevehicles.set(p,f),a("s","Vehicle Moved ! Overhaul it in the Garage.","G"),Z(Y,s=i,s)}return[s,g,o,p=>o(p.id)]}class et extends ae{constructor(e){super(),ne(this,e,At,Et,se,{})}}function He(t,e,l){const s=t.slice();return s[8]=e[l],s[10]=l,s}function Vt(t){let e,l,s;function a(){return t[5](t[10])}return{c(){e=h("button"),e.textContent="Sell"},m(g,o){L(g,e,o),l||(s=Q(e,"click",a),l=!0)},p(g,o){t=g},d(g){g&&B(e),l=!1,s()}}}function Ft(t){let e;return{c(){e=h("button"),e.textContent="Sold",e.disabled=!0},m(l,s){L(l,e,s)},p:J,d(l){l&&B(e)}}}function Re(t,e){let l,s,a,g,o,u,p,i=e[8].name+"",f,c,r,d,k=e[1][e[10]].toFixed(2)+"",m,y,w,C,j;function F(M,E){return M[8].sellprice>0?Ft:Vt}let $=F(e),_=$(e);return{key:t,first:null,c(){l=h("div"),s=h("figure"),a=h("img"),u=S(),p=h("figcaption"),f=z(i),c=S(),r=h("aside"),d=h("strong"),m=z(k),y=S(),w=h("br"),C=S(),_.c(),j=S(),R(a.src,g=`assets/parts/${e[10]}.png`)||v(a,"src",g),v(a,"alt",o=e[8].name),Fe(d,"txt-s",e[8].sellprice>0),this.first=l},m(M,E){L(M,l,E),n(l,s),n(s,a),n(s,u),n(s,p),n(p,f),n(l,c),n(l,r),n(r,d),n(d,m),n(r,y),n(r,w),n(r,C),_.m(r,null),n(l,j)},p(M,E){e=M,E&1&&!R(a.src,g=`assets/parts/${e[10]}.png`)&&v(a,"src",g),E&1&&o!==(o=e[8].name)&&v(a,"alt",o),E&1&&i!==(i=e[8].name+"")&&V(f,i),E&3&&k!==(k=e[1][e[10]].toFixed(2)+"")&&V(m,k),E&1&&Fe(d,"txt-s",e[8].sellprice>0),$===($=F(e))&&_?_.p(e,E):(_.d(1),_=$(e),_&&(_.c(),_.m(r,null)))},d(M){M&&B(l),_.d()}}}function Gt(t){let e,l,s,a,g,o,u,p,i=t[0].name+"",f,c,r,d,k,m,y,w,C=t[0].price.toFixed(2)+"",j,F,$,_,M,E=t[2].toFixed(2)+"",O,T,I,b,P,A=(t[2]-t[0].price).toFixed(2)+"",K,W,x,U,H=[],ee=new Map,X=t[0].parts;const D=N=>N[10];for(let N=0;N<X.length;N+=1){let G=He(t,X,N),q=D(G);ee.set(q,H[N]=Re(q,G))}return{c(){e=h("section"),l=h("div"),s=h("figure"),a=h("img"),u=S(),p=h("figcaption"),f=z(i),c=S(),r=h("h2"),r.textContent="Market",d=S(),k=h("aside"),m=h("p"),y=z("B: "),w=h("strong"),j=z(C),F=S(),$=h("p"),_=z("S: "),M=h("strong"),O=z(E),T=S(),I=h("p"),b=z("M: "),P=h("strong"),K=z(A),x=S(),U=h("article");for(let N=0;N<H.length;N+=1)H[N].c();R(a.src,g=`assets/vehicles/${t[0].level}-${t[0].sub}.png`)||v(a,"src",g),v(a,"alt",o=t[0].name),v(I,"class",W=`txt-${t[2]-t[0].price<0?"d":"s"}`),v(l,"class","place-header"),v(U,"class","place-main svelte-158p19i"),v(e,"class","market-place svelte-158p19i")},m(N,G){L(N,e,G),n(e,l),n(l,s),n(s,a),n(s,u),n(s,p),n(p,f),n(l,c),n(l,r),n(l,d),n(l,k),n(k,m),n(m,y),n(m,w),n(w,j),n(k,F),n(k,$),n($,_),n($,M),n(M,O),n(k,T),n(k,I),n(I,b),n(I,P),n(P,K),n(e,x),n(e,U);for(let q=0;q<H.length;q+=1)H[q]&&H[q].m(U,null)},p(N,[G]){G&1&&!R(a.src,g=`assets/vehicles/${N[0].level}-${N[0].sub}.png`)&&v(a,"src",g),G&1&&o!==(o=N[0].name)&&v(a,"alt",o),G&1&&i!==(i=N[0].name+"")&&V(f,i),G&1&&C!==(C=N[0].price.toFixed(2)+"")&&V(j,C),G&4&&E!==(E=N[2].toFixed(2)+"")&&V(O,E),G&5&&A!==(A=(N[2]-N[0].price).toFixed(2)+"")&&V(K,A),G&5&&W!==(W=`txt-${N[2]-N[0].price<0?"d":"s"}`)&&v(I,"class",W),G&11&&(X=N[0].parts,H=be(H,G,D,1,N,X,ee,U,ye,Re,null,He))},i:J,o:J,d(N){N&&B(e);for(let G=0;G<H.length;G+=1)H[G].d()}}}function Ot(t,e,l){let s,a;ce(t,Y,c=>l(4,a=c));const g=oe("alerts");let o=a.storagevehicles.get(a.marketvehicleid);function u(){return o.parts.map(c=>c.sellprice>0?c.sellprice:c.ratio*(Math.random()+Math.random()))}let p=u();function i(c){const r=a,d=p[c];l(0,o.parts[c].sellprice=d,o),r.money=r.money+d,r.points=(r.points+o.level)%(r.level*1e3),r.level=r.level+(r.points+o.level>=r.level*1e3),o.parts.every(k=>k.sellprice>0)&&(r.storagevehicles.delete(o.id),g("s","All Vehicle Parts Sold ! Let's Sell some more.","S")),Z(Y,a=r,a)}const f=c=>i(c);return t.$$.update=()=>{t.$$.dirty&1&&l(2,s=o.parts.reduce((c,r)=>c+r.sellprice,0)),t.$$.dirty&16&&a.markettime===0&&l(1,p=u())},[o,p,s,i,a,f]}class Tt extends ae{constructor(e){super(),ne(this,e,Ot,Gt,se,{})}}function We(t,e,l){const s=t.slice();return s[6]=e[l],s}function De(t,e){let l,s,a,g,o,u,p,i=e[6].name+"",f,c,r,d,k,m,y;function w(){return e[3](e[6])}return{key:t,first:null,c(){l=h("div"),s=h("figure"),a=h("img"),u=S(),p=h("figcaption"),f=z(i),c=S(),r=h("aside"),d=h("button"),d.textContent="Sell",k=S(),R(a.src,g=`assets/vehicles/${e[6].level}-${e[6].sub}.png`)||v(a,"src",g),v(a,"alt",o=e[6].name),this.first=l},m(C,j){L(C,l,j),n(l,s),n(s,a),n(s,u),n(s,p),n(p,f),n(l,c),n(l,r),n(r,d),n(l,k),m||(y=Q(d,"click",w),m=!0)},p(C,j){e=C,j&1&&!R(a.src,g=`assets/vehicles/${e[6].level}-${e[6].sub}.png`)&&v(a,"src",g),j&1&&o!==(o=e[6].name)&&v(a,"alt",o),j&1&&i!==(i=e[6].name+"")&&V(f,i)},d(C){C&&B(l),m=!1,y()}}}function Bt(t){let e,l,s,a=t[0].storagevehicles.size+"",g,o,u=t[0].storagemax+"",p,i,f,c,r,d,k=t[0].storagemax*1500+"",m,y,w,C,j,F,$,_=[],M=new Map,E,O,T=[...t[0].storagevehicles.values()];const I=b=>b[6].id;for(let b=0;b<T.length;b+=1){let P=We(t,T,b),A=I(P);M.set(A,_[b]=De(A,P))}return{c(){e=h("section"),l=h("div"),s=h("p"),g=z(a),o=z(" / "),p=z(u),i=S(),f=h("h2"),f.textContent="Storage",c=S(),r=h("p"),d=h("strong"),m=z(k),y=S(),w=h("br"),C=S(),j=h("button"),j.textContent="Expand",F=S(),$=h("article");for(let b=0;b<_.length;b+=1)_[b].c();v(d,"class","txt-s"),v(l,"class","place-header"),v($,"class","place-main svelte-1xv7pex"),v(e,"class","place")},m(b,P){L(b,e,P),n(e,l),n(l,s),n(s,g),n(s,o),n(s,p),n(l,i),n(l,f),n(l,c),n(l,r),n(r,d),n(d,m),n(r,y),n(r,w),n(r,C),n(r,j),n(e,F),n(e,$);for(let A=0;A<_.length;A+=1)_[A]&&_[A].m($,null);E||(O=Q(j,"click",t[1]),E=!0)},p(b,[P]){P&1&&a!==(a=b[0].storagevehicles.size+"")&&V(g,a),P&1&&u!==(u=b[0].storagemax+"")&&V(p,u),P&1&&k!==(k=b[0].storagemax*1500+"")&&V(m,k),P&5&&(T=[...b[0].storagevehicles.values()],_=be(_,P,I,1,b,T,M,$,ye,De,null,We))},i:J,o:J,d(b){b&&B(e);for(let P=0;P<_.length;P+=1)_[P].d();E=!1,O()}}}function It(t,e,l){let s;ce(t,Y,i=>l(0,s=i));const a=oe("places"),g=oe("alerts");function o(){const i=s;if(i.money<i.storagemax*1500){g("d","You're Broke ! Not enough Money to expand Storage.","");return}i.money=i.money-i.storagemax*1500,i.storagemax=i.storagemax+1,g("s",`Storage Expanded ! Now Holds upto ${i.storagemax} Vehicle Parts.`,""),Z(Y,s=i,s)}function u(i){const f=s;f.marketvehicleid=i,Z(Y,s=f,s),a(Tt)}return[s,o,u,i=>u(i.id)]}class tt extends ae{constructor(e){super(),ne(this,e,It,Bt,se,{})}}function Lt(t){let e,l,s,a,g,o,u,p,i,f;return{c(){e=h("nav"),l=h("button"),l.textContent="Junkyard",s=S(),a=h("button"),a.textContent="Parking",g=S(),o=h("button"),o.textContent="Garage",u=S(),p=h("button"),p.textContent="Storage",v(l,"class","svelte-1lz4t4g"),v(a,"class","svelte-1lz4t4g"),v(o,"class","svelte-1lz4t4g"),v(p,"class","svelte-1lz4t4g"),v(e,"class","svelte-1lz4t4g")},m(c,r){L(c,e,r),n(e,l),n(e,s),n(e,a),n(e,g),n(e,o),n(e,u),n(e,p),i||(f=[Q(l,"click",t[1]),Q(a,"click",t[2]),Q(o,"click",t[3]),Q(p,"click",t[4])],i=!0)},p:J,i:J,o:J,d(c){c&&B(e),i=!1,le(f)}}}function Jt(t){const e=oe("places");return[e,()=>e(Ne),()=>e(et),()=>e(xe),()=>e(tt)]}class qt extends ae{constructor(e){super(),ne(this,e,Jt,Lt,se,{})}}function Qe(t,e,l){const s=t.slice();return s[9]=e[l],s}function Ke(t,e){let l,s=e[9].message+"",a,g,o,u,p;function i(){return e[3](e[9])}function f(){return e[4](e[9])}return{key:t,first:null,c(){l=h("strong"),a=z(s),g=S(),v(l,"class",o=Ve(`alert-${e[9].type}`)+" svelte-2plf94"),this.first=l},m(c,r){L(c,l,r),n(l,a),n(l,g),u||(p=[Q(l,"keypress",i),Q(l,"click",f)],u=!0)},p(c,r){e=c,r&2&&s!==(s=e[9].message+"")&&V(a,s),r&2&&o!==(o=Ve(`alert-${e[9].type}`)+" svelte-2plf94")&&v(l,"class",o)},d(c){c&&B(l),u=!1,le(p)}}}function Yt(t){let e,l,s,a,g,o,u,p=[],i=new Map,f;e=new bt({});var c=t[0];function r(m){return{}}c&&(s=Ge(c,r())),g=new qt({});let d=t[1];const k=m=>m[9].id;for(let m=0;m<d.length;m+=1){let y=Qe(t,d,m),w=k(y);i.set(w,p[m]=Ke(w,y))}return{c(){Se(e.$$.fragment),l=S(),s&&Se(s.$$.fragment),a=S(),Se(g.$$.fragment),o=S(),u=h("div");for(let m=0;m<p.length;m+=1)p[m].c();v(u,"class","svelte-2plf94")},m(m,y){me(e,m,y),L(m,l,y),s&&me(s,m,y),L(m,a,y),me(g,m,y),L(m,o,y),L(m,u,y);for(let w=0;w<p.length;w+=1)p[w]&&p[w].m(u,null);f=!0},p(m,[y]){if(y&1&&c!==(c=m[0])){if(s){pt();const w=s;we(w.$$.fragment,1,0,()=>{de(w,1)}),ht()}c?(s=Ge(c,r()),Se(s.$$.fragment),pe(s.$$.fragment,1),me(s,a.parentNode,a)):s=null}y&6&&(d=m[1],p=be(p,y,k,1,m,d,i,u,ye,Ke,null,Qe))},i(m){f||(pe(e.$$.fragment,m),s&&pe(s.$$.fragment,m),pe(g.$$.fragment,m),f=!0)},o(m){we(e.$$.fragment,m),s&&we(s.$$.fragment,m),we(g.$$.fragment,m),f=!1},d(m){de(e,m),m&&B(l),s&&de(s,m),m&&B(a),de(g,m),m&&B(o),m&&B(u);for(let y=0;y<p.length;y+=1)p[y].d()}}}function Ht(t,e,l){let s;ce(t,Y,r=>l(5,s=r));let a=Ne;const g=r=>l(0,a=r);Oe("places",g);let o=[];const u=r=>l(1,o=o.filter(d=>d.id!==r));function p(r,d,k){const m=setTimeout(()=>u(m),3e3);l(1,o=o.concat({id:m,type:r,message:d,place:k}))}Oe("alerts",p);function i(r,d){switch(clearTimeout(r),u(r),d){case"J":g(Ne);break;case"P":g(et);break;case"G":g(xe);break;case"S":g(tt);break}}return ot(()=>{const r=setInterval(()=>{const d=s;d.energytime===0?(d.energy=Math.min(d.energy+10,d.level*100),d.energytime=30):d.energytime=d.energytime-1,d.yardtime===0?d.junkyardvehicle===null?(d.junkyardvehicle=new ve(d.level),d.yardtime=30,p("i","New Vehicle ! Grabe it Before it's Gone.","J")):(d.junkyardvehicle=null,d.yardtime=90):d.yardtime=d.yardtime-1;for(const k of d.garagevehicles.values()){const{garagestage:m,garagetime:y,parts:w}=k;m>-1&&m<w.length&&(w[m].time===y?(k.garagetime=0,k.garagestage=m+1,m+1===w.length&&(d.points=(d.points+k.level*k.parts.length)%(d.level*1e3),d.level=d.level+(d.points+k.level>=d.level*1e3),p("i","Vehicle Overhauled ! Store it's Parts for Selling.","G"))):k.garagetime+=1)}if(d.storagevehicles.has(d.marketvehicleid)){const k=d.storagevehicles.get(d.marketvehicleid);d.markettime===0?(k.stage+=1,d.markettime=3):d.markettime-=1}Z(Y,s=d,s)},1e3);return()=>{clearInterval(r)}}),[a,o,i,r=>i(r.id,r.place),r=>i(r.id,r.place)]}class Rt extends ae{constructor(e){super(),ne(this,e,Ht,Yt,se,{})}}new Rt({target:document.getElementById("app")});
