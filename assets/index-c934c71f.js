var lt=Object.defineProperty;var nt=(t,e,l)=>e in t?lt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var ze=(t,e,l)=>(nt(t,typeof e!="symbol"?e+"":e,l),l);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const g of a)if(g.type==="childList")for(const o of g.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function l(a){const g={};return a.integrity&&(g.integrity=a.integrity),a.referrerPolicy&&(g.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?g.credentials="include":a.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function n(a){if(a.ep)return;a.ep=!0;const g=l(a);fetch(a.href,g)}})();function J(){}function Ze(t){return t()}function Ae(){return Object.create(null)}function le(t){t.forEach(Ze)}function Ue(t){return typeof t=="function"}function ne(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let $e;function Y(t,e){return $e||($e=document.createElement("a")),$e.href=e,t===$e.href}function st(t){return Object.keys(t).length===0}function at(t,...e){if(t==null)return J;const l=t.subscribe(...e);return l.unsubscribe?()=>l.unsubscribe():l}function ce(t,e,l){t.$$.on_destroy.push(at(e,l))}function Ve(t){return t??""}function X(t,e,l){return t.set(l),e}const rt=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;"WeakMap"in rt;function s(t,e){t.appendChild(e)}function L(t,e,l){t.insertBefore(e,l||null)}function B(t){t.parentNode&&t.parentNode.removeChild(t)}function m(t){return document.createElement(t)}function z(t){return document.createTextNode(t)}function S(){return z(" ")}function K(t,e,l,n){return t.addEventListener(e,l,n),()=>t.removeEventListener(e,l,n)}function v(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}function it(t){return Array.from(t.childNodes)}function V(t,e){e=""+e,t.data!==e&&(t.data=e)}function Fe(t,e,l){t.classList[l?"add":"remove"](e)}function Ge(t,e){return new t(e)}let ke;function _e(t){ke=t}function Ee(){if(!ke)throw new Error("Function called outside component initialization");return ke}function ot(t){Ee().$$.on_mount.push(t)}function Te(t,e){return Ee().$$.context.set(t,e),e}function oe(t){return Ee().$$.context.get(t)}const fe=[],Oe=[];let me=[];const Be=[],ct=Promise.resolve();let Ce=!1;function ut(){Ce||(Ce=!0,ct.then(Xe))}function je(t){me.push(t)}const Pe=new Set;let ue=0;function Xe(){if(ue!==0)return;const t=ke;do{try{for(;ue<fe.length;){const e=fe[ue];ue++,_e(e),gt(e.$$)}}catch(e){throw fe.length=0,ue=0,e}for(_e(null),fe.length=0,ue=0;Oe.length;)Oe.pop()();for(let e=0;e<me.length;e+=1){const l=me[e];Pe.has(l)||(Pe.add(l),l())}me.length=0}while(fe.length);for(;Be.length;)Be.pop()();Ce=!1,Pe.clear(),_e(t)}function gt(t){if(t.fragment!==null){t.update(),le(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(je)}}function ft(t){const e=[],l=[];me.forEach(n=>t.indexOf(n)===-1?e.push(n):l.push(n)),l.forEach(n=>n()),me=e}const Me=new Set;let ie;function pt(){ie={r:0,c:[],p:ie}}function mt(){ie.r||le(ie.c),ie=ie.p}function pe(t,e){t&&t.i&&(Me.delete(t),t.i(e))}function we(t,e,l,n){if(t&&t.o){if(Me.has(t))return;Me.add(t),ie.c.push(()=>{Me.delete(t),n&&(l&&t.d(1),n())}),t.o(e)}else n&&n()}function ye(t,e){t.d(1),e.delete(t.key)}function be(t,e,l,n,a,g,o,u,p,r,f,c){let i=t.length,d=g.length,k=i;const h={};for(;k--;)h[t[k].key]=k;const y=[],w=new Map,j=new Map,C=[];for(k=d;k--;){const M=c(a,g,k),E=l(M);let T=o.get(E);T?n&&C.push(()=>T.p(M,e)):(T=r(E,M),T.c()),w.set(E,y[k]=T),E in h&&j.set(E,Math.abs(k-h[E]))}const F=new Set,$=new Set;function _(M){pe(M,1),M.m(u,f),o.set(M.key,M),f=M.first,d--}for(;i&&d;){const M=y[d-1],E=t[i-1],T=M.key,O=E.key;M===E?(f=M.first,i--,d--):w.has(O)?!o.has(T)||F.has(T)?_(M):$.has(O)?i--:j.get(T)>j.get(O)?($.add(T),_(M)):(F.add(O),i--):(p(E,o),i--)}for(;i--;){const M=t[i];w.has(M.key)||p(M,o)}for(;d;)_(y[d-1]);return le(C),y}const ht=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"];[...ht];function Se(t){t&&t.c()}function he(t,e,l,n){const{fragment:a,after_update:g}=t.$$;a&&a.m(e,l),n||je(()=>{const o=t.$$.on_mount.map(Ze).filter(Ue);t.$$.on_destroy?t.$$.on_destroy.push(...o):le(o),t.$$.on_mount=[]}),g.forEach(je)}function de(t,e){const l=t.$$;l.fragment!==null&&(ft(l.after_update),le(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function dt(t,e){t.$$.dirty[0]===-1&&(fe.push(t),ut(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function se(t,e,l,n,a,g,o,u=[-1]){const p=ke;_e(t);const r=t.$$={fragment:null,ctx:[],props:g,update:J,not_equal:a,bound:Ae(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(p?p.$$.context:[])),callbacks:Ae(),dirty:u,skip_bound:!1,root:e.target||p.$$.root};o&&o(r.root);let f=!1;if(r.ctx=l?l(t,e.props||{},(c,i,...d)=>{const k=d.length?d[0]:i;return r.ctx&&a(r.ctx[c],r.ctx[c]=k)&&(!r.skip_bound&&r.bound[c]&&r.bound[c](k),f&&dt(t,c)),i}):[],r.update(),f=!0,le(r.before_update),r.fragment=n?n(r.ctx):!1,e.target){if(e.hydrate){const c=it(e.target);r.fragment&&r.fragment.l(c),c.forEach(B)}else r.fragment&&r.fragment.c();e.intro&&pe(t.$$.fragment),he(t,e.target,e.anchor,e.customElement),Xe()}_e(p)}class ae{$destroy(){de(this,1),this.$destroy=J}$on(e,l){if(!Ue(l))return J;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(l),()=>{const a=n.indexOf(l);a!==-1&&n.splice(a,1)}}$set(e){this.$$set&&!st(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ge=[];function vt(t,e=J){let l;const n=new Set;function a(u){if(ne(t,u)&&(t=u,l)){const p=!ge.length;for(const r of n)r[1](),ge.push(r,t);if(p){for(let r=0;r<ge.length;r+=2)ge[r][0](ge[r+1]);ge.length=0}}}function g(u){a(u(t))}function o(u,p=J){const r=[u,p];return n.add(r),n.size===1&&(l=e(a)||J),u(t),()=>{n.delete(r),n.size===0&&l&&(l(),l=null)}}return{set:a,update:g,subscribe:o}}const Ie={money:300,points:0,level:1,energy:30,energytime:30,parkingvehicles:new Map,parkingmax:1,garagevehicles:new Map,garagemax:1,storagevehicles:new Map,storagemax:1,junkyardvehicle:null,yardtime:15,marketvehicleid:"",markettime:3};function _t(){const t=localStorage.getItem("save");if(t)try{return JSON.parse(t,(e,l)=>{let n;switch(e){case"parkingvehicles":case"garagevehicles":case"storagevehicles":n=new Map(l);break;default:n=l;break}return n})}catch(e){return console.warn(e),Ie}else return Ie}const q=vt(_t());q.subscribe(t=>{localStorage.setItem("save",JSON.stringify(t,(e,l)=>{let n;switch(e){case"parkingvehicles":case"garagevehicles":case"storagevehicles":n=Array.from(l.entries());break;default:n=l;break}return n}))});const re=class{constructor(e=1){this.id=Date.now().toString(36),this.level=Math.floor(Math.random()*e)+1;const l=re.config[this.level-1];this.sub=Math.floor(Math.random()*l.length);const n=l[this.sub];this.name=n.name;const a=50*this.level,g=a*(this.sub+2);this.price=Math.random()*(g-a)+a;const[o,u,p]=re.generateRandomIntegers(n.energy,3);this.parkingenergy=o,this.storageenergy=u,this.garageenergy=p,this.garagestage=-1,this.garagetime=0;const r=re.generateRandomIntegers(n.time),f=re.generateRandomIntegers(100).map(c=>c/100);this.parts=re.parts.map(c=>({name:c,sellprice:0,time:0,ratio:0})),this.parts[0].time=r[1],this.parts[1].time=r[0],this.parts[2].time=r[6],this.parts[3].time=r[2],this.parts[4].time=r[3],this.parts[5].time=r[4],this.parts[6].time=r[9],this.parts[7].time=r[8],this.parts[8].time=r[7],this.parts[9].time=r[5],this.parts[0].ratio=this.price*f[5],this.parts[1].ratio=this.price*f[0],this.parts[2].ratio=this.price*f[2],this.parts[3].ratio=this.price*f[3],this.parts[4].ratio=this.price*f[1],this.parts[5].ratio=this.price*f[4],this.parts[6].ratio=this.price*f[9],this.parts[7].ratio=this.price*f[8],this.parts[8].ratio=this.price*f[7],this.parts[9].ratio=this.price*f[6]}static generateRandomIntegers(e,l=10){const n=[];let a=0;for(let g=0;g<l-1;g++){const o=l-g-1,u=Math.floor((e-a)/o),p=Math.floor(Math.random()*Math.max(1,Math.min(u,e-a-o)))+1;n.push(p),a+=p}return n.push(e-a),n.sort((g,o)=>g-o)}};let ve=re;ze(ve,"parts",["Battery","Fluids","Electronics","Rims","Brakes","Windows","Engine","Transmission","Drivetrain","Scrap"]),ze(ve,"config",[[{name:"Nova Chariot",energy:20,time:30},{name:"Spectral Glide",energy:25,time:40}],[{name:"Astral Cruiser",energy:40,time:60},{name:"Quantum Streaker",energy:50,time:80}],[{name:"Nebula Racer",energy:60,time:90},{name:"Thunderstrike",energy:75,time:120}],[{name:"Celestial Blazer",energy:80,time:120},{name:"Solar Cyclone",energy:100,time:160}],[{name:"Warp Runner",energy:100,time:150},{name:"Infinity Drifter",energy:125,time:200}],[{name:"Stormbringer",energy:120,time:180},{name:"Hyperion Vanguard",energy:150,time:240}],[{name:"Phoenix Jetstream",energy:140,time:210},{name:"Zenith Hauler",energy:175,time:280}],[{name:"Mirage Navigator",energy:160,time:240},{name:"Luminary Express",energy:200,time:320}],[{name:"Aero Phantom",energy:180,time:270},{name:"Solstice Voyager",energy:225,time:360}],[{name:"Titan's Fury",energy:200,time:300},{name:"Chronos Explorer",energy:250,time:400}]]);function kt(t){let e,l,n,a,g,o,u,p=t[0].money.toFixed(2)+"",r,f,c,i,d,k,h,y,w=t[0].level+"",j,C,F=t[0].points+"",$,_,M,E,T,O,I,b,P,A,Q,W,x=t[0].energy+"",Z,R,ee=t[0].level*100+"",U,D,N,G;return{c(){e=m("header"),l=m("figure"),n=m("img"),g=S(),o=m("figcaption"),u=m("p"),r=z(p),f=S(),c=m("figure"),i=m("img"),k=S(),h=m("figcaption"),y=m("p"),j=z(w),C=z(" : "),$=z(F),_=S(),M=m("progress"),O=S(),I=m("figure"),b=m("img"),A=S(),Q=m("figcaption"),W=m("p"),Z=z(x),R=z(" / "),U=z(ee),D=S(),N=m("progress"),Y(n.src,a="assets/stats/0.png")||v(n,"src",a),v(n,"alt","img"),v(u,"class","txt-s"),v(o,"class","svelte-z2uysm"),v(l,"class","svelte-z2uysm"),Y(i.src,d="assets/stats/1.png")||v(i,"src",d),v(i,"alt","img"),v(y,"class","txt-i"),v(M,"max",E=t[0].level*1e3),M.value=T=t[0].points,v(h,"class","svelte-z2uysm"),v(c,"class","svelte-z2uysm"),Y(b.src,P="assets/stats/2.png")||v(b,"src",P),v(b,"alt","img"),v(W,"class","txt-w"),v(N,"max",30),N.value=G=30-t[0].energytime,v(Q,"class","svelte-z2uysm"),v(I,"class","svelte-z2uysm"),v(e,"class","svelte-z2uysm")},m(H,te){L(H,e,te),s(e,l),s(l,n),s(l,g),s(l,o),s(o,u),s(u,r),s(e,f),s(e,c),s(c,i),s(c,k),s(c,h),s(h,y),s(y,j),s(y,C),s(y,$),s(h,_),s(h,M),s(e,O),s(e,I),s(I,b),s(I,A),s(I,Q),s(Q,W),s(W,Z),s(W,R),s(W,U),s(Q,D),s(Q,N)},p(H,[te]){te&1&&p!==(p=H[0].money.toFixed(2)+"")&&V(r,p),te&1&&w!==(w=H[0].level+"")&&V(j,w),te&1&&F!==(F=H[0].points+"")&&V($,F),te&1&&E!==(E=H[0].level*1e3)&&v(M,"max",E),te&1&&T!==(T=H[0].points)&&(M.value=T),te&1&&x!==(x=H[0].energy+"")&&V(Z,x),te&1&&ee!==(ee=H[0].level*100+"")&&V(U,ee),te&1&&G!==(G=30-H[0].energytime)&&(N.value=G)},i:J,o:J,d(H){H&&B(e)}}}function yt(t,e,l){let n;return ce(t,q,a=>l(0,n=a)),[n]}class bt extends ae{constructor(e){super(),se(this,e,yt,kt,ne,{})}}function Le(t,e,l){const n=t.slice();return n[7]=e[l],n}function $t(t){let e,l,n,a,g,o,u=t[7].parts[t[7].garagestage].name+"",p,r,f,c,i=t[7].garagetime+"",d,k,h=t[7].parts[t[7].garagestage].time+"",y,w,j,C,F;return{c(){e=m("figure"),l=m("img"),g=S(),o=m("figcaption"),p=z(u),r=S(),f=m("aside"),c=m("p"),d=z(i),k=z(" => "),y=z(h),w=S(),j=m("progress"),Y(l.src,n=`assets/parts/${t[7].garagestage}.png`)||v(l,"src",n),v(l,"alt",a=t[7].parts[t[7].garagestage].name),v(c,"class","txt-i svelte-1spsvye"),v(j,"max",C=t[7].parts[t[7].garagestage].time),j.value=F=t[7].garagetime,v(j,"class","svelte-1spsvye"),v(f,"class","svelte-1spsvye")},m($,_){L($,e,_),s(e,l),s(e,g),s(e,o),s(o,p),L($,r,_),L($,f,_),s(f,c),s(c,d),s(c,k),s(c,y),s(f,w),s(f,j)},p($,_){_&1&&!Y(l.src,n=`assets/parts/${$[7].garagestage}.png`)&&v(l,"src",n),_&1&&a!==(a=$[7].parts[$[7].garagestage].name)&&v(l,"alt",a),_&1&&u!==(u=$[7].parts[$[7].garagestage].name+"")&&V(p,u),_&1&&i!==(i=$[7].garagetime+"")&&V(d,i),_&1&&h!==(h=$[7].parts[$[7].garagestage].time+"")&&V(y,h),_&1&&C!==(C=$[7].parts[$[7].garagestage].time)&&v(j,"max",C),_&1&&F!==(F=$[7].garagetime)&&(j.value=F)},d($){$&&B(e),$&&B(r),$&&B(f)}}}function wt(t){let e,l,n=t[7].storageenergy+"",a,g,o,u,p;function r(){return t[5](t[7])}return{c(){e=m("aside"),l=m("strong"),a=z(n),g=S(),o=m("button"),o.textContent="Store",v(l,"class","txt-w svelte-1spsvye"),v(o,"class","svelte-1spsvye"),v(e,"class","work svelte-1spsvye")},m(f,c){L(f,e,c),s(e,l),s(l,a),s(e,g),s(e,o),u||(p=K(o,"click",r),u=!0)},p(f,c){t=f,c&1&&n!==(n=t[7].storageenergy+"")&&V(a,n)},d(f){f&&B(e),u=!1,p()}}}function St(t){let e,l,n=t[7].garageenergy+"",a,g,o,u,p;function r(){return t[4](t[7])}return{c(){e=m("aside"),l=m("strong"),a=z(n),g=S(),o=m("button"),o.textContent="Work",v(l,"class","txt-w svelte-1spsvye"),v(o,"class","svelte-1spsvye"),v(e,"class","work svelte-1spsvye")},m(f,c){L(f,e,c),s(e,l),s(l,a),s(e,g),s(e,o),u||(p=K(o,"click",r),u=!0)},p(f,c){t=f,c&1&&n!==(n=t[7].garageenergy+"")&&V(a,n)},d(f){f&&B(e),u=!1,p()}}}function Je(t,e){let l,n,a,g,o,u,p,r=e[7].name+"",f,c,i;function d(y,w){return y[7].garagestage===-1?St:y[7].garagestage===y[7].parts.length?wt:$t}let k=d(e),h=k(e);return{key:t,first:null,c(){l=m("div"),n=m("figure"),a=m("img"),u=S(),p=m("figcaption"),f=z(r),c=S(),h.c(),i=S(),Y(a.src,g=`assets/vehicles/${e[7].level}-${e[7].sub}.png`)||v(a,"src",g),v(a,"alt",o=e[7].name),v(l,"class","svelte-1spsvye"),this.first=l},m(y,w){L(y,l,w),s(l,n),s(n,a),s(n,u),s(n,p),s(p,f),s(l,c),h.m(l,null),s(l,i)},p(y,w){e=y,w&1&&!Y(a.src,g=`assets/vehicles/${e[7].level}-${e[7].sub}.png`)&&v(a,"src",g),w&1&&o!==(o=e[7].name)&&v(a,"alt",o),w&1&&r!==(r=e[7].name+"")&&V(f,r),k===(k=d(e))&&h?h.p(e,w):(h.d(1),h=k(e),h&&(h.c(),h.m(l,i)))},d(y){y&&B(l),h.d()}}}function Mt(t){let e,l,n,a=t[0].garagevehicles.size+"",g,o,u=t[0].garagemax+"",p,r,f,c,i,d,k=t[0].garagemax*2e3+"",h,y,w,j,C,F,$,_=[],M=new Map,E,T,O=[...t[0].garagevehicles.values()];const I=b=>b[7].id;for(let b=0;b<O.length;b+=1){let P=Le(t,O,b),A=I(P);M.set(A,_[b]=Je(A,P))}return{c(){e=m("section"),l=m("div"),n=m("p"),g=z(a),o=z(" / "),p=z(u),r=S(),f=m("h2"),f.textContent="Garage",c=S(),i=m("p"),d=m("strong"),h=z(k),y=S(),w=m("br"),j=S(),C=m("button"),C.textContent="Expand",F=S(),$=m("article");for(let b=0;b<_.length;b+=1)_[b].c();v(d,"class","txt-s"),v(l,"class","place-header"),v($,"class","place-main svelte-1spsvye"),v(e,"class","place")},m(b,P){L(b,e,P),s(e,l),s(l,n),s(n,g),s(n,o),s(n,p),s(l,r),s(l,f),s(l,c),s(l,i),s(i,d),s(d,h),s(i,y),s(i,w),s(i,j),s(i,C),s(e,F),s(e,$);for(let A=0;A<_.length;A+=1)_[A]&&_[A].m($,null);E||(T=K(C,"click",t[1]),E=!0)},p(b,[P]){P&1&&a!==(a=b[0].garagevehicles.size+"")&&V(g,a),P&1&&u!==(u=b[0].garagemax+"")&&V(p,u),P&1&&k!==(k=b[0].garagemax*2e3+"")&&V(h,k),P&13&&(O=[...b[0].garagevehicles.values()],_=be(_,P,I,1,b,O,M,$,ye,Je,null,Le))},i:J,o:J,d(b){b&&B(e);for(let P=0;P<_.length;P+=1)_[P].d();E=!1,T()}}}function zt(t,e,l){let n;ce(t,q,f=>l(0,n=f));const a=oe("alerts");function g(){const f=n;if(f.money<f.garagemax*2e3){a("d","You're Broke ! Not enough Money to expand Garage.","");return}f.money=f.money-f.garagemax*2e3,f.garagemax=f.garagemax+1,a("s",`Garage Expanded ! Now Holds upto ${f.garagemax} Vehicles.`,""),X(q,n=f,n)}function o(f){const c=n,i=c.garagevehicles.get(f);if(c.energy<i.garageenergy){a("d","You're Tired ! Not enough Energy to Overhaul Vehicle.","");return}i.garagestage=0,c.energy=c.energy-i.garageenergy,c.points=(c.points+i.level)%(c.level*1e3),c.level=c.level+(c.points+i.level>=c.level*1e3),X(q,n=c,n)}function u(f){const c=n,i=c.garagevehicles.get(f);if(c.energy<i.storageenergy){a("d","You're Tired ! Not enough Energy to Store Vehicle Parts.","");return}if(c.storagevehicles.size===c.storagemax){a("w","Too Crammed ! Not enough Space in Storage.","");return}c.energy=c.energy-i.storageenergy,c.points=(c.points+i.level)%(c.level*1e3),c.level=c.level+(c.points+i.level>=c.level*1e3),c.garagevehicles.delete(f),c.storagevehicles.set(f,i),a("s","Vehicle Stored ! Sell it's Parts in the Storage.","S"),X(q,n=c,n)}return[n,g,o,u,f=>o(f.id),f=>u(f.id)]}class xe extends ae{constructor(e){super(),se(this,e,zt,Mt,ne,{})}}function Pt(t){let e,l,n,a,g,o,u=t[0].junkyardvehicle.name+"",p,r,f,c,i=t[0].junkyardvehicle.price.toFixed(2)+"",d,k,h,y,w,j,C,F;return{c(){e=m("figure"),l=m("img"),g=S(),o=m("figcaption"),p=z(u),r=S(),f=m("aside"),c=m("strong"),d=z(i),k=S(),h=m("p"),y=m("button"),y.textContent="Skip",w=S(),j=m("button"),j.textContent="Buy",Y(l.src,n=`assets/vehicles/${t[0].junkyardvehicle.level}-${t[0].junkyardvehicle.sub}.png`)||v(l,"src",n),v(l,"alt",a=t[0].junkyardvehicle.name),v(c,"class","txt-s"),v(y,"class","svelte-18yxkza"),v(j,"class","svelte-18yxkza"),v(h,"class","control svelte-18yxkza")},m($,_){L($,e,_),s(e,l),s(e,g),s(e,o),s(o,p),L($,r,_),L($,f,_),s(f,c),s(c,d),s(f,k),s(f,h),s(h,y),s(h,w),s(h,j),C||(F=[K(y,"click",t[1]),K(j,"click",t[2])],C=!0)},p($,_){_&1&&!Y(l.src,n=`assets/vehicles/${$[0].junkyardvehicle.level}-${$[0].junkyardvehicle.sub}.png`)&&v(l,"src",n),_&1&&a!==(a=$[0].junkyardvehicle.name)&&v(l,"alt",a),_&1&&u!==(u=$[0].junkyardvehicle.name+"")&&V(p,u),_&1&&i!==(i=$[0].junkyardvehicle.price.toFixed(2)+"")&&V(d,i)},d($){$&&B(e),$&&B(r),$&&B(f),C=!1,le(F)}}}function Ct(t){let e;return{c(){e=m("h3"),e.textContent="Awaiting Next Vehicle"},m(l,n){L(l,e,n)},p:J,d(l){l&&B(e)}}}function jt(t){let e,l,n,a,g,o,u,p=t[0].parkingvehicles.size+"",r,f,c=t[0].parkingmax+"",i,d,k,h,y=t[0].garagevehicles.size+"",w,j,C=t[0].garagemax+"",F,$,_,M,E=t[0].storagevehicles.size+"",T,O,I=t[0].storagemax+"",b,P,A,Q,W,x,Z=t[0].yardtime+"",R;function ee(N,G){return N[0].junkyardvehicle==null?Ct:Pt}let U=ee(t),D=U(t);return{c(){e=m("section"),l=m("div"),l.innerHTML='<h2 class="svelte-18yxkza">Junkyard</h2>',n=S(),a=m("article"),g=m("aside"),o=m("p"),u=z("Parking = "),r=z(p),f=z(" / "),i=z(c),d=S(),k=m("p"),h=z("Garage = "),w=z(y),j=z(" / "),F=z(C),$=S(),_=m("p"),M=z("Storage = "),T=z(E),O=z(" / "),b=z(I),P=S(),A=m("aside"),D.c(),Q=S(),W=m("h3"),x=z("Timer = "),R=z(Z),v(l,"class","place-header"),v(o,"class","svelte-18yxkza"),v(k,"class","svelte-18yxkza"),v(_,"class","svelte-18yxkza"),v(g,"class","info svelte-18yxkza"),v(A,"class","action svelte-18yxkza"),v(a,"class","place-main svelte-18yxkza"),v(e,"class","place")},m(N,G){L(N,e,G),s(e,l),s(e,n),s(e,a),s(a,g),s(g,o),s(o,u),s(o,r),s(o,f),s(o,i),s(g,d),s(g,k),s(k,h),s(k,w),s(k,j),s(k,F),s(g,$),s(g,_),s(_,M),s(_,T),s(_,O),s(_,b),s(a,P),s(a,A),D.m(A,null),s(A,Q),s(A,W),s(W,x),s(W,R)},p(N,[G]){G&1&&p!==(p=N[0].parkingvehicles.size+"")&&V(r,p),G&1&&c!==(c=N[0].parkingmax+"")&&V(i,c),G&1&&y!==(y=N[0].garagevehicles.size+"")&&V(w,y),G&1&&C!==(C=N[0].garagemax+"")&&V(F,C),G&1&&E!==(E=N[0].storagevehicles.size+"")&&V(T,E),G&1&&I!==(I=N[0].storagemax+"")&&V(b,I),U===(U=ee(N))&&D?D.p(N,G):(D.d(1),D=U(N),D&&(D.c(),D.m(A,Q))),G&1&&Z!==(Z=N[0].yardtime+"")&&V(R,Z)},i:J,o:J,d(N){N&&B(e),D.d()}}}function Nt(t,e,l){let n;ce(t,q,u=>l(0,n=u));const a=oe("alerts");function g(){const u=n;u.junkyardvehicle=null,u.yardtime=30,X(q,n=u,n)}function o(){const u=n;if(u.money<u.junkyardvehicle.price){a("d","You're Broke ! Not enough Money for Vehicle.","");return}if(u.parkingvehicles.size===u.parkingmax){a("w","Too Crammed ! Not enough Space in Parking.","");return}u.money=u.money-u.junkyardvehicle.price,u.points=(u.points+u.junkyardvehicle.level)%(u.level*1e3),u.level=u.level+(u.points+u.junkyardvehicle.level>=u.level*1e3),u.parkingvehicles.set(u.junkyardvehicle.id,u.junkyardvehicle),u.junkyardvehicle=null,u.yardtime=60,a("s","Vehicle Bought ! Find it in the Parking.","P"),X(q,n=u,n)}return[n,g,o]}class Ne extends ae{constructor(e){super(),se(this,e,Nt,jt,ne,{})}}function He(t,e,l){const n=t.slice();return n[5]=e[l],n}function qe(t,e){let l,n,a,g,o,u,p,r=e[5].name+"",f,c,i,d,k=e[5].parkingenergy+"",h,y,w,j,C,F;function $(){return e[3](e[5])}return{key:t,first:null,c(){l=m("div"),n=m("figure"),a=m("img"),u=S(),p=m("figcaption"),f=z(r),c=S(),i=m("aside"),d=m("strong"),h=z(k),y=S(),w=m("button"),w.textContent="Move",j=S(),Y(a.src,g=`assets/vehicles/${e[5].level}-${e[5].sub}.png`)||v(a,"src",g),v(a,"alt",o=e[5].name),v(d,"class","txt-w svelte-1y5j9hy"),v(w,"class","svelte-1y5j9hy"),v(i,"class","svelte-1y5j9hy"),this.first=l},m(_,M){L(_,l,M),s(l,n),s(n,a),s(n,u),s(n,p),s(p,f),s(l,c),s(l,i),s(i,d),s(d,h),s(i,y),s(i,w),s(l,j),C||(F=K(w,"click",$),C=!0)},p(_,M){e=_,M&1&&!Y(a.src,g=`assets/vehicles/${e[5].level}-${e[5].sub}.png`)&&v(a,"src",g),M&1&&o!==(o=e[5].name)&&v(a,"alt",o),M&1&&r!==(r=e[5].name+"")&&V(f,r),M&1&&k!==(k=e[5].parkingenergy+"")&&V(h,k)},d(_){_&&B(l),C=!1,F()}}}function Et(t){let e,l,n,a=t[0].parkingvehicles.size+"",g,o,u=t[0].parkingmax+"",p,r,f,c,i,d,k=t[0].parkingmax*1e3+"",h,y,w,j,C,F,$,_=[],M=new Map,E,T,O=[...t[0].parkingvehicles.values()];const I=b=>b[5].id;for(let b=0;b<O.length;b+=1){let P=He(t,O,b),A=I(P);M.set(A,_[b]=qe(A,P))}return{c(){e=m("section"),l=m("div"),n=m("p"),g=z(a),o=z(" / "),p=z(u),r=S(),f=m("h2"),f.textContent="Parking",c=S(),i=m("p"),d=m("strong"),h=z(k),y=S(),w=m("br"),j=S(),C=m("button"),C.textContent="Expand",F=S(),$=m("article");for(let b=0;b<_.length;b+=1)_[b].c();v(d,"class","txt-s"),v(l,"class","place-header"),v($,"class","place-main svelte-1y5j9hy"),v(e,"class","place")},m(b,P){L(b,e,P),s(e,l),s(l,n),s(n,g),s(n,o),s(n,p),s(l,r),s(l,f),s(l,c),s(l,i),s(i,d),s(d,h),s(i,y),s(i,w),s(i,j),s(i,C),s(e,F),s(e,$);for(let A=0;A<_.length;A+=1)_[A]&&_[A].m($,null);E||(T=K(C,"click",t[1]),E=!0)},p(b,[P]){P&1&&a!==(a=b[0].parkingvehicles.size+"")&&V(g,a),P&1&&u!==(u=b[0].parkingmax+"")&&V(p,u),P&1&&k!==(k=b[0].parkingmax*1e3+"")&&V(h,k),P&5&&(O=[...b[0].parkingvehicles.values()],_=be(_,P,I,1,b,O,M,$,ye,qe,null,He))},i:J,o:J,d(b){b&&B(e);for(let P=0;P<_.length;P+=1)_[P].d();E=!1,T()}}}function At(t,e,l){let n;ce(t,q,p=>l(0,n=p));const a=oe("alerts");function g(){const p=n;if(p.money<p.parkingmax*1e3){a("d","You're Broke ! Not enough Money to expand Parking.","");return}p.money=p.money-p.parkingmax*1e3,p.parkingmax=p.parkingmax+1,a("s",`Parking Expanded ! Now Holds upto ${p.parkingmax} Vehicles.`,""),X(q,n=p,n)}function o(p){const r=n,f=r.parkingvehicles.get(p);if(r.energy<f.parkingenergy){a("d","You're Tired ! Not enough Energy to Move Vehicle.","");return}if(r.garagevehicles.size===r.garagemax){a("w","Too Crammed ! Not enough Space in Garage.","");return}r.energy=r.energy-f.parkingenergy,r.points=(r.points+f.level)%(r.level*1e3),r.level=r.level+(r.points+f.level>=r.level*1e3),r.parkingvehicles.delete(p),r.garagevehicles.set(p,f),a("s","Vehicle Moved ! Overhaul it in the Garage.","G"),X(q,n=r,n)}return[n,g,o,p=>o(p.id)]}class et extends ae{constructor(e){super(),se(this,e,At,Et,ne,{})}}function Re(t,e,l){const n=t.slice();return n[8]=e[l],n[10]=l,n}function Vt(t){let e,l,n;function a(){return t[5](t[10])}return{c(){e=m("button"),e.textContent="Sell"},m(g,o){L(g,e,o),l||(n=K(e,"click",a),l=!0)},p(g,o){t=g},d(g){g&&B(e),l=!1,n()}}}function Ft(t){let e;return{c(){e=m("button"),e.textContent="Sold",e.disabled=!0},m(l,n){L(l,e,n)},p:J,d(l){l&&B(e)}}}function Ye(t,e){let l,n,a,g,o,u,p,r=e[8].name+"",f,c,i,d,k=e[1][e[10]].toFixed(2)+"",h,y,w,j,C;function F(M,E){return M[8].sellprice>0?Ft:Vt}let $=F(e),_=$(e);return{key:t,first:null,c(){l=m("div"),n=m("figure"),a=m("img"),u=S(),p=m("figcaption"),f=z(r),c=S(),i=m("aside"),d=m("strong"),h=z(k),y=S(),w=m("br"),j=S(),_.c(),C=S(),Y(a.src,g=`assets/parts/${e[10]}.png`)||v(a,"src",g),v(a,"alt",o=e[8].name),Fe(d,"txt-s",e[8].sellprice>0),this.first=l},m(M,E){L(M,l,E),s(l,n),s(n,a),s(n,u),s(n,p),s(p,f),s(l,c),s(l,i),s(i,d),s(d,h),s(i,y),s(i,w),s(i,j),_.m(i,null),s(l,C)},p(M,E){e=M,E&1&&!Y(a.src,g=`assets/parts/${e[10]}.png`)&&v(a,"src",g),E&1&&o!==(o=e[8].name)&&v(a,"alt",o),E&1&&r!==(r=e[8].name+"")&&V(f,r),E&3&&k!==(k=e[1][e[10]].toFixed(2)+"")&&V(h,k),E&1&&Fe(d,"txt-s",e[8].sellprice>0),$===($=F(e))&&_?_.p(e,E):(_.d(1),_=$(e),_&&(_.c(),_.m(i,null)))},d(M){M&&B(l),_.d()}}}function Gt(t){let e,l,n,a,g,o,u,p,r=t[0].name+"",f,c,i,d,k,h,y,w,j=t[0].price.toFixed(2)+"",C,F,$,_,M,E=t[2].toFixed(2)+"",T,O,I,b,P,A=(t[2]-t[0].price).toFixed(2)+"",Q,W,x,Z,R=[],ee=new Map,U=t[0].parts;const D=N=>N[10];for(let N=0;N<U.length;N+=1){let G=Re(t,U,N),H=D(G);ee.set(H,R[N]=Ye(H,G))}return{c(){e=m("section"),l=m("div"),n=m("figure"),a=m("img"),u=S(),p=m("figcaption"),f=z(r),c=S(),i=m("h2"),i.textContent="Market",d=S(),k=m("aside"),h=m("p"),y=z("B: "),w=m("strong"),C=z(j),F=S(),$=m("p"),_=z("S: "),M=m("strong"),T=z(E),O=S(),I=m("p"),b=z("M: "),P=m("strong"),Q=z(A),x=S(),Z=m("article");for(let N=0;N<R.length;N+=1)R[N].c();Y(a.src,g=`assets/vehicles/${t[0].level}-${t[0].sub}.png`)||v(a,"src",g),v(a,"alt",o=t[0].name),v(I,"class",W=`txt-${t[2]-t[0].price<0?"d":"s"}`),v(l,"class","place-header"),v(Z,"class","place-main svelte-158p19i"),v(e,"class","market-place svelte-158p19i")},m(N,G){L(N,e,G),s(e,l),s(l,n),s(n,a),s(n,u),s(n,p),s(p,f),s(l,c),s(l,i),s(l,d),s(l,k),s(k,h),s(h,y),s(h,w),s(w,C),s(k,F),s(k,$),s($,_),s($,M),s(M,T),s(k,O),s(k,I),s(I,b),s(I,P),s(P,Q),s(e,x),s(e,Z);for(let H=0;H<R.length;H+=1)R[H]&&R[H].m(Z,null)},p(N,[G]){G&1&&!Y(a.src,g=`assets/vehicles/${N[0].level}-${N[0].sub}.png`)&&v(a,"src",g),G&1&&o!==(o=N[0].name)&&v(a,"alt",o),G&1&&r!==(r=N[0].name+"")&&V(f,r),G&1&&j!==(j=N[0].price.toFixed(2)+"")&&V(C,j),G&4&&E!==(E=N[2].toFixed(2)+"")&&V(T,E),G&5&&A!==(A=(N[2]-N[0].price).toFixed(2)+"")&&V(Q,A),G&5&&W!==(W=`txt-${N[2]-N[0].price<0?"d":"s"}`)&&v(I,"class",W),G&11&&(U=N[0].parts,R=be(R,G,D,1,N,U,ee,Z,ye,Ye,null,Re))},i:J,o:J,d(N){N&&B(e);for(let G=0;G<R.length;G+=1)R[G].d()}}}function Tt(t,e,l){let n,a;ce(t,q,c=>l(4,a=c));const g=oe("alerts");let o=a.storagevehicles.get(a.marketvehicleid);function u(){return o.parts.map(c=>c.sellprice>0?c.sellprice:c.ratio*(Math.random()+Math.random()))}let p=u();function r(c){const i=a,d=p[c];l(0,o.parts[c].sellprice=d,o),i.money=i.money+d,i.points=(i.points+o.level)%(i.level*1e3),i.level=i.level+(i.points+o.level>=i.level*1e3),o.parts.every(k=>k.sellprice>0)&&(i.storagevehicles.delete(o.id),g("s","All Vehicle Parts Sold ! Let's Sell some more.","S")),X(q,a=i,a)}const f=c=>r(c);return t.$$.update=()=>{t.$$.dirty&1&&l(2,n=o.parts.reduce((c,i)=>c+i.sellprice,0)),t.$$.dirty&16&&a.markettime===0&&l(1,p=u())},[o,p,n,r,a,f]}class Ot extends ae{constructor(e){super(),se(this,e,Tt,Gt,ne,{})}}function We(t,e,l){const n=t.slice();return n[6]=e[l],n}function De(t,e){let l,n,a,g,o,u,p,r=e[6].name+"",f,c,i,d,k,h,y;function w(){return e[3](e[6])}return{key:t,first:null,c(){l=m("div"),n=m("figure"),a=m("img"),u=S(),p=m("figcaption"),f=z(r),c=S(),i=m("aside"),d=m("button"),d.textContent="Sell",k=S(),Y(a.src,g=`assets/vehicles/${e[6].level}-${e[6].sub}.png`)||v(a,"src",g),v(a,"alt",o=e[6].name),this.first=l},m(j,C){L(j,l,C),s(l,n),s(n,a),s(n,u),s(n,p),s(p,f),s(l,c),s(l,i),s(i,d),s(l,k),h||(y=K(d,"click",w),h=!0)},p(j,C){e=j,C&1&&!Y(a.src,g=`assets/vehicles/${e[6].level}-${e[6].sub}.png`)&&v(a,"src",g),C&1&&o!==(o=e[6].name)&&v(a,"alt",o),C&1&&r!==(r=e[6].name+"")&&V(f,r)},d(j){j&&B(l),h=!1,y()}}}function Bt(t){let e,l,n,a=t[0].storagevehicles.size+"",g,o,u=t[0].storagemax+"",p,r,f,c,i,d,k=t[0].storagemax*1500+"",h,y,w,j,C,F,$,_=[],M=new Map,E,T,O=[...t[0].storagevehicles.values()];const I=b=>b[6].id;for(let b=0;b<O.length;b+=1){let P=We(t,O,b),A=I(P);M.set(A,_[b]=De(A,P))}return{c(){e=m("section"),l=m("div"),n=m("p"),g=z(a),o=z(" / "),p=z(u),r=S(),f=m("h2"),f.textContent="Storage",c=S(),i=m("p"),d=m("strong"),h=z(k),y=S(),w=m("br"),j=S(),C=m("button"),C.textContent="Expand",F=S(),$=m("article");for(let b=0;b<_.length;b+=1)_[b].c();v(d,"class","txt-s"),v(l,"class","place-header"),v($,"class","place-main svelte-1xv7pex"),v(e,"class","place")},m(b,P){L(b,e,P),s(e,l),s(l,n),s(n,g),s(n,o),s(n,p),s(l,r),s(l,f),s(l,c),s(l,i),s(i,d),s(d,h),s(i,y),s(i,w),s(i,j),s(i,C),s(e,F),s(e,$);for(let A=0;A<_.length;A+=1)_[A]&&_[A].m($,null);E||(T=K(C,"click",t[1]),E=!0)},p(b,[P]){P&1&&a!==(a=b[0].storagevehicles.size+"")&&V(g,a),P&1&&u!==(u=b[0].storagemax+"")&&V(p,u),P&1&&k!==(k=b[0].storagemax*1500+"")&&V(h,k),P&5&&(O=[...b[0].storagevehicles.values()],_=be(_,P,I,1,b,O,M,$,ye,De,null,We))},i:J,o:J,d(b){b&&B(e);for(let P=0;P<_.length;P+=1)_[P].d();E=!1,T()}}}function It(t,e,l){let n;ce(t,q,r=>l(0,n=r));const a=oe("places"),g=oe("alerts");function o(){const r=n;if(r.money<r.storagemax*1500){g("d","You're Broke ! Not enough Money to expand Storage.","");return}r.money=r.money-r.storagemax*1500,r.storagemax=r.storagemax+1,g("s",`Storage Expanded ! Now Holds upto ${r.storagemax} Vehicle Parts.`,""),X(q,n=r,n)}function u(r){const f=n;f.marketvehicleid=r,X(q,n=f,n),a(Ot)}return[n,o,u,r=>u(r.id)]}class tt extends ae{constructor(e){super(),se(this,e,It,Bt,ne,{})}}function Lt(t){let e,l,n,a,g,o,u,p,r,f;return{c(){e=m("nav"),l=m("button"),l.textContent="Junkyard",n=S(),a=m("button"),a.textContent="Parking",g=S(),o=m("button"),o.textContent="Garage",u=S(),p=m("button"),p.textContent="Storage",v(l,"class","svelte-1lz4t4g"),v(a,"class","svelte-1lz4t4g"),v(o,"class","svelte-1lz4t4g"),v(p,"class","svelte-1lz4t4g"),v(e,"class","svelte-1lz4t4g")},m(c,i){L(c,e,i),s(e,l),s(e,n),s(e,a),s(e,g),s(e,o),s(e,u),s(e,p),r||(f=[K(l,"click",t[1]),K(a,"click",t[2]),K(o,"click",t[3]),K(p,"click",t[4])],r=!0)},p:J,i:J,o:J,d(c){c&&B(e),r=!1,le(f)}}}function Jt(t){const e=oe("places");return[e,()=>e(Ne),()=>e(et),()=>e(xe),()=>e(tt)]}class Ht extends ae{constructor(e){super(),se(this,e,Jt,Lt,ne,{})}}function Ke(t,e,l){const n=t.slice();return n[9]=e[l],n}function Qe(t,e){let l,n=e[9].message+"",a,g,o,u,p;function r(){return e[3](e[9])}function f(){return e[4](e[9])}return{key:t,first:null,c(){l=m("strong"),a=z(n),g=S(),v(l,"class",o=Ve(`alert-${e[9].type}`)+" svelte-2plf94"),this.first=l},m(c,i){L(c,l,i),s(l,a),s(l,g),u||(p=[K(l,"keypress",r),K(l,"click",f)],u=!0)},p(c,i){e=c,i&2&&n!==(n=e[9].message+"")&&V(a,n),i&2&&o!==(o=Ve(`alert-${e[9].type}`)+" svelte-2plf94")&&v(l,"class",o)},d(c){c&&B(l),u=!1,le(p)}}}function qt(t){let e,l,n,a,g,o,u,p=[],r=new Map,f;e=new bt({});var c=t[0];function i(h){return{}}c&&(n=Ge(c,i())),g=new Ht({});let d=t[1];const k=h=>h[9].id;for(let h=0;h<d.length;h+=1){let y=Ke(t,d,h),w=k(y);r.set(w,p[h]=Qe(w,y))}return{c(){Se(e.$$.fragment),l=S(),n&&Se(n.$$.fragment),a=S(),Se(g.$$.fragment),o=S(),u=m("div");for(let h=0;h<p.length;h+=1)p[h].c();v(u,"class","svelte-2plf94")},m(h,y){he(e,h,y),L(h,l,y),n&&he(n,h,y),L(h,a,y),he(g,h,y),L(h,o,y),L(h,u,y);for(let w=0;w<p.length;w+=1)p[w]&&p[w].m(u,null);f=!0},p(h,[y]){if(y&1&&c!==(c=h[0])){if(n){pt();const w=n;we(w.$$.fragment,1,0,()=>{de(w,1)}),mt()}c?(n=Ge(c,i()),Se(n.$$.fragment),pe(n.$$.fragment,1),he(n,a.parentNode,a)):n=null}y&6&&(d=h[1],p=be(p,y,k,1,h,d,r,u,ye,Qe,null,Ke))},i(h){f||(pe(e.$$.fragment,h),n&&pe(n.$$.fragment,h),pe(g.$$.fragment,h),f=!0)},o(h){we(e.$$.fragment,h),n&&we(n.$$.fragment,h),we(g.$$.fragment,h),f=!1},d(h){de(e,h),h&&B(l),n&&de(n,h),h&&B(a),de(g,h),h&&B(o),h&&B(u);for(let y=0;y<p.length;y+=1)p[y].d()}}}function Rt(t,e,l){let n;ce(t,q,i=>l(5,n=i));let a=Ne;const g=i=>l(0,a=i);Te("places",g);let o=[];const u=i=>l(1,o=o.filter(d=>d.id!==i));function p(i,d,k){const h=setTimeout(()=>u(h),3e3);l(1,o=o.concat({id:h,type:i,message:d,place:k}))}Te("alerts",p);function r(i,d){switch(clearTimeout(i),u(i),d){case"J":g(Ne);break;case"P":g(et);break;case"G":g(xe);break;case"S":g(tt);break}}return ot(()=>{const i=setInterval(()=>{const d=n;d.energytime===0?(d.energy=Math.min(d.energy+10,d.level*100),d.energytime=30):d.energytime=d.energytime-1,d.yardtime===0?d.junkyardvehicle===null?(d.junkyardvehicle=new ve(d.level),d.yardtime=30,p("i","New Vehicle ! Grabe it Before it's Gone.","J")):(d.junkyardvehicle=null,d.yardtime=90):d.yardtime=d.yardtime-1;for(const k of d.garagevehicles.values()){const{garagestage:h,garagetime:y,parts:w}=k;h>-1&&h<w.length&&(w[h].time===y?(k.garagetime=0,k.garagestage=h+1,h+1===w.length&&(d.points=(d.points+k.level*k.parts.length)%(d.level*1e3),d.level=d.level+(d.points+k.level>=d.level*1e3),p("i","Vehicle Overhauled ! Store it's Parts for Selling.","G"))):k.garagetime+=1)}d.storagevehicles.has(d.marketvehicleid)&&(d.markettime===0?d.markettime=3:d.markettime-=1),X(q,n=d,n)},1e3);return()=>{clearInterval(i)}}),[a,o,r,i=>r(i.id,i.place),i=>r(i.id,i.place)]}class Yt extends ae{constructor(e){super(),se(this,e,Rt,qt,ne,{})}}new Yt({target:document.getElementById("app")});
